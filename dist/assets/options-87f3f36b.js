import{r as o,j as i,a as e,c as d,R as l}from"./client-b9aa3ffd.js";const u=t=>{t("Creating spreadsheet..."),chrome.identity.getAuthToken({interactive:!0},async r=>{if(chrome.runtime.lastError||!r){t("Failed to get auth token.");return}try{const s=await(await fetch("https://sheets.googleapis.com/v4/spreadsheets",{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify({properties:{title:spreadsheetName},sheets:[{properties:{title:"Sheet1",gridProperties:{frozenRowCount:1}},data:[{startRow:0,startColumn:0,rowData:[{values:[{userEnteredValue:{stringValue:"Company Name"},userEnteredFormat:{textFormat:{bold:!0}}},{userEnteredValue:{stringValue:"Job Title"},userEnteredFormat:{textFormat:{bold:!0}}},{userEnteredValue:{stringValue:"Deadline"},userEnteredFormat:{textFormat:{bold:!0}}},{userEnteredValue:{stringValue:"Apply Link"},userEnteredFormat:{textFormat:{bold:!0}}},{userEnteredValue:{stringValue:"Timestamp"},userEnteredFormat:{textFormat:{bold:!0}}}]}]}]}]})})).json();s.spreadsheetId?chrome.storage.sync.set({spreadsheetId:s.spreadsheetId},()=>{t("Spreadsheet created and saved.")}):t("Error creating spreadsheet.")}catch(a){t("Error: "+a.toString())}})};function p(){const[t,r]=o.useState("My Job Applications"),[a,s]=o.useState("");return i("div",{className:"options-container",children:[e("h2",{children:"Job Seeker Setup"}),e("p",{children:"This will create a new Google Sheet to store your job applications."}),e("label",{htmlFor:"spreadsheetName",children:"Spreadsheet Name:"}),e("input",{type:"text",id:"spreadsheetName",value:t,onChange:n=>r(n.target.value)}),e("br",{}),e("button",{onClick:()=>u(s),children:"Create New Sheet"}),e("p",{id:"status",children:a})]})}const c=d.createRoot(document.getElementById("root"));c.render(e(l.StrictMode,{children:e(p,{})}));
